%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Masters/Doctoral Thesis 
% Class File
% Version 1.6 (27/8/17)
%
% This class was downloaded from:
% http://www.LaTeXTemplates.com
%
% Authors:
% Vel (vel@latextemplates.com)
% Johannes Böttcher
%
% Notes:
% 1) This class file defines the structure and layout of the template file (main.tex).
% 2) It has been written in such a way that under most circumstances you should not need
% to edit it; updating it to a newer version will be harder. If you do make changes, please change the name of
% the file and add comments to make your changes more visible.
%
% Class license:
% LPPL v1.3c (http://www.latex-project.org/lppl)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%----------------------------------------------------------------------------------------
%	PACKAGES AND OTHER DOCUMENT CONFIGURATIONS
%----------------------------------------------------------------------------------------
\documentclass[
11pt, % The default document font size, options: 10pt, 11pt, 12pt
%oneside, % Two side (alternating margins) for binding by default, uncomment to switch to one side
english,
%Twoside, % ngerman for German
onehalfspacing, % Single line spacing, alternatives: onehalfspacing or doublespacing
%draft, % Uncomment to enable draft mode (no pictures, no links, overfull hboxes indicated)
%nolistspacing, % If the document is onehalfspacing or doublespacing, uncomment this to set spacing in lists to single
%liststotoc, % Uncomment to add the list of figures/tables/etc to the table of contents
%toctotoc, % Uncomment to add the main table of contents to the table of contents
%parskip, % Uncomment to add space between paragraphs
%nohyperref, % Uncomment to not load the hyperref package
headsepline,table]{MastersDoctoralThesis}

%%% ------------------ PACKAGES -----------------------------------------
\doublespacing
\usepackage{url}
\def\UrlBreaks{\do\/\do-}
\usepackage{fancyvrb}
\VerbatimFootnotes
\usepackage[english]{minitoc} % for the mini tables of content
\usepackage{fncychap}
\usepackage[autostyle=true]{csquotes}
\usepackage[export]{adjustbox}
\usepackage{bm}
\usepackage{xcolor}
\usepackage{lettrine}
\usepackage{setspace}
\usepackage{subeqnarray}
\usepackage[T1]{fontenc} % Output font encoding for international characters
\usepackage{psfrag}
\usepackage[final]{pdfpages} 
\usepackage{cite}
\usepackage[numbers,sort&compress]{natbib}
\usepackage{etoolbox}
\usepackage{tablefootnote,footnotehyper}
\usepackage[pagestyles]{titlesec}
\usepackage{lipsum}
\usepackage{amsmath,amssymb,amsthm,mathrsfs,amsfonts,mathtools}
\usepackage{dsfont}
\usepackage{algorithm,algorithmic}
\usepackage{nccmath}
\usepackage{enumerate}
\usepackage{textcomp}
\usepackage[]{multirow}
\usepackage{paralist}
\usepackage{soul}
\usepackage[bottom]{footmisc}
\usepackage[colorlinks=true,linkcolor=blue,breaklinks,urlcolor=red,citecolor=blue,hypertexnames=false]{hyperref}
\usepackage{float}
\usepackage{upgreek}
\usepackage[titles]{tocloft}
\usepackage{cleveref}
\usepackage{array}
\usepackage{soul}
\usepackage{cool}
\usepackage{doi}
\usepackage{xparse}
\usepackage{xstring}
\usepackage{color,graphicx}
\usepackage{tikz}
\usepackage{palatino}
%%----- For tables
\usepackage{threeparttable}
\usepackage{multirow}
\usepackage{hhline}
\usepackage{tabularx,tabularx,dcolumn,booktabs}
\usepackage{siunitx}
\usepackage{array}
\usepackage{titlesec}
\usepackage{dcolumn,booktabs}
\usepackage{longtable}
\usepackage{scrextend}
%%% -------------------------------------------------------------

%%% For tables
\newcommand{\highlighti}[2]{%
	\setlength{\fboxrule}{1pt}%
	\fcolorbox{#1}{white}{#2}}

\newcolumntype{d}[1]{D{.}{.}{#1}} % "decimal alignment" column type
\newcommand\addcaptionbelow[1]{{%
		\let\caption\captionbelow
		\caption*{#1}%
}}

% New command \whline (comme \hline) to create a wider line
\newlength{\tabep} 
\setlength{\tabep}{1.25pt} % line width 
\newlength\savedwidth
\newcommand\whline{\noalign{\global\savedwidth
		\arrayrulewidth\global\arrayrulewidth \tabep}
	\hline \noalign{\global\arrayrulewidth
		\savedwidth}
}		
%%% ----- Captions/sub-captions
\usepackage[justification=justified]{caption}
\usepackage[font=large]{subcaption}
\captionsetup[subtable]{labelfont=rm}
\usepackage{xpatch}
\xapptocmd\bfseries{\boldmath}{}{}
\usepackage{scrlayer-scrpage}

%%% ----- Modifications 
% Training subcaption package to comply with
% IEEE standards. We can ignore the warning
% generated by caption.sty which is due to 
% the redefinition of \@makecaption
%\DeclareCaptionLabelSeparator{periodspace}{.\quad}
%\captionsetup{font=footnotesize,labelsep=periodspace,singlelinecheck=false}
%\captionsetup[sub]{font=footnotesize,singlelinecheck=true}
%\renewcommand\thefigure{(\alph{figure})}
%\renewcommand\thesubfigure{(\alph{subfigure})}
\renewcommand{\thesubtable}{\alph{subtable}}
%\renewcommand{\thetable}{\alph{table}}
\newcommand{\hyperfootnote}[1][]{\def\ArgI\hyperfootnoteRelay}
\deffootnote[2em]{2em}{1em}{\textsuperscript{\thefootnotemark}\,}
%%% continuer le comptage des footnotes
\counterwithout{footnote}{chapter}
\newcommand*{\footcite}[1]{\footnote{\cite{#1}}}
%%% -------------------------------------------------------------
%%% ----- Define Colors
\definecolor{newpurple}{rgb}{0.6, 0.2, 0.9}
\definecolor{newpurple2}{rgb}{0.5, 0, 0.8}
\definecolor{newmagenta}{rgb}{255 , 0 , 254}
\definecolor{neworange}{rgb}{127 , 255 , 0}
\def\inputimg{rgb:blue,0;red,0;white,0.1}
\def\ConvColor{rgb:yellow,5;red,2.5;white,5}
\def\ConvReluColor{rgb:yellow,5;red,5;white,5}
\def\ConvReluBnormColor{rgb:yellow,10;red,8;white,}
\def\PoolColor{rgb:red,1;black,0.3}
\def\MaxPoolColor{mycyan}
\def\UnpoolColor{rgb:blue,2;green,1;black,0.3}
\def\FcColor{rgb:blue,5;blue,2.5;white,5}
\def\boxcolor{rgb:blue,5;blue,0.5;white,1}
\def\FcReluColor{rgb:blue,5;red,5;white,4}
\def\SoftmaxColor{rgb:magenta,5;black,7}   
\definecolor{newgreen}{rgb}{0, 0.8, 0}
\definecolor{mycyan}{rgb}{0, 1, 1}
\definecolor{myteal}{rgb}{0, 0.5, 0.52}
\newcommand{\tikzcircle}[2][red,fill=red]{\tikz[baseline=-0.5ex]\draw[#1,radius=#2]
	(0,0) circle ;}%
\newcommand{\bluec}{blue!20}
\newcommand{\redc}{red!20}
\newcommand{\highlight}[1]{\mathpalette\highlightwithstyle{#1}}
\newcommand{\highlightwithstyle}[2]{\colorbox{red!50}{$#1#2$}}
\newcommand*{\PurpleBall}{\tikz \draw [baseline, ball color=newpurple, draw=newpurple] circle (3pt);}
\colorlet{bluec}{blue!20!white}
\colorlet{redc}{red!20}
\newcolumntype{a}{>{\columncolor{\redc}}c}
\newcolumntype{b}{>{\columncolor{\bluec}}c}

%%% ----- Define Fig./Tab./Eq. color referencing
\makeatletter
\def\p@table{\color{newgreen}}
\def\p@figure{\color{red}}
\def\p@equation{\color{blue}}
\makeatother
\hypersetup{breaklinks=true}

%%% ----- Math symbols
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
%\newcommand\transpose{\mathsf{\scriptscriptstyle T}}
\newcommand{\transpose}[1]{\ensuremath{#1^{\scriptscriptstyle T}}}
\newcommand{\argmin}[1]{\underset{#1}{\operatorname{arg}\,\operatorname{min}}\;}
\newcommand{\argmax}[1]{\underset{#1}{\operatorname{arg}\,\operatorname{max}}\;}
\newcommand{\norm}[1]{{\left\lVert #1 \right\rVert}_2}
\newcommand\inner[2]{\big\langle #1, #2 \big\rangle}
\makeatletter
\newcommand*\bigcdot{\mathpalette\bigcdot@{.5}}
\newcommand*\bigcdot@[2]{\mathbin{\vcenter{\hbox{\scalebox{#2}{$\m@th#1\bullet$}}}}}
\makeatother
%%% ----- Section counter 
\setcounter{secnumdepth}{6}
\makeatletter
\newcounter {subsubsubsection}[subsubsection]
\renewcommand\thesubsubsubsection{\thesubsubsection .\@alph\c@subsubsubsection}
\newcommand\subsubsubsection{\@startsection{subsubsubsection}{3}{\z@}%
	{-3.25ex\@plus -1ex \@minus -.2ex}%
	{1.5ex \@plus .2ex}%
	{\normalfont\normalsize\bfseries}}
\newcommand*\l@subsubsubsection{\@dottedtocline{3}{10.0em}{4.1em}}
\newcommand*{\subsubsubsectionmark}[1]{}
\makeatother
	
\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}
\makeatletter
\setlength{\@fptop}{0pt}
\makeatother

\makeatletter
\newcommand{\repeatable}[2]{%
	\label{#1}\global\@namedef{repeatable@#1}{#2}#2
}
\newcommand{\eqrepeat}[1]{%
	\@ifundefined{repeatable@#1}{NOT FOUND}{$\@nameuse{repeatable@#1}$}%
	~\eqref{#1}}
\makeatother


%%% ----- Commands for multispectral images
%% Cubes and vectors
\newcommand\MsRad[1]{\textbf{I}^{#1}}
\newcommand\MsRadcc[2]{\textbf{I}^{#1}{#2}}
\newcommand\MsRadwd[2]{\textbf{I}^{#1}{#2}}
\newcommand\MsR[1]{\hat{\textbf{R}}^{#1}}
\newcommand\MsRp[2]{\hat{\textbf{R}}^{#1}_{#2}}
\newcommand\MsScR[1]{\hat{\textbf{R}}^{#1}}
\newcommand\MsScRp[2]{\hat{\textbf{R}}^{#1}_{#2}}
\newcommand\MsVcRad[1]{\tilde{\textbf{I}}^{#1}}
\newcommand\MsVcRadp[2]{\tilde{\textbf{I}}^{#1}_{#2}}
\newcommand\MsVcScRad[1]{\tilde{\textbf{I}}^{#1}}
\newcommand\MsVcScRadp[2]{\tilde{\textbf{I}}^{#1}_{#2}}
\newcommand\MsRcc[2]{\hat{\textbf{R}}^{#1}{#2}}
\newcommand\MsRrefcc[3]{\hat{\textbf{R}}^{#1}_{#2}{#3}}
\newcommand\MsRref[2]{\hat{\textbf{R}}^{#1}_{#2}}
\newcommand\MsRest[2]{\hat{\textbf{R}}^{#1}_{#2}}
\newcommand\MsScRest[2]{\hat{\textbf{R}}^{#1}_{#2}}
\newcommand\MsScRestp[3]{\hat{\textbf{R}}^{#1}_{{#2},{#3}}}
\newcommand\MsRestp[3]{\hat{\textbf{R}}^{#1}_{{#2},{#3}}}
%% Channels
\newcommand\Radchannel[1]{I^{#1}}
\newcommand\Radchannelcc[2]{{I}^{#1}{#2}}
\newcommand\Radchannelwd[2]{{I}^{#1}{#2}}
\newcommand\Rchannel[1]{\hat{R}^{#1}}
\newcommand\VcRadChannel[1]{\tilde{I}^{#1}}
\newcommand\VcScRadChannel[1]{\tilde{I}^{#1}}
\newcommand\ScREstp[2]{\hat{R}^{#1}{#2}}
\newcommand\ScREst[1]{\hat{R}^{#1}}
%% Radiance/refletance values
\newcommand\RadValcc[3]{I^{#1}_{#2}{#3}}
\newcommand\RadValwd[3]{I^{#1}_{#2}{#3}}
\newcommand\RadVal[2]{I^{#1}_{#2}}
\newcommand\Rchannelcc[2]{\hat{R}^{#1}{#2}}
\newcommand\RVallambda[3]{R^{#1}_{#2}{#3}}
\newcommand\RVal[2]{\hat{R}^{#1}_{#2}}
\newcommand\REstVal[3]{\hat{R}^{#1}_{{#2},{#3}}}
\newcommand\RrefVal[3]{\hat{R}^{#1}_{{#2},{#3}}}
\newcommand\RccVal[4]{\hat{R}^{#1}_{#2}{#3}{#4}}
\newcommand\ScR[1]{R^{#1}}
\newcommand\ScRp[2]{R^{#1}{#2}}
\newcommand\VcREstval[2]{\tilde{R}^{#1}_{#2}}
\newcommand\VcprimeREstval[2]{\tilde{R'}^{#1}_{#2}}
\newcommand\VcRadval[2]{\tilde{I}^{#1}_{#2}}
\newcommand\VcScRadval[2]{\tilde{I}^{#1}_{#2}}
\newcommand\MedianWD[2]{\underline{I}^{#1}{#2}}
\newcommand\MedianRW[3]{\tilde{\underline{{I}}}^{#1}_{{#2},{#3}}}
\newcommand\AvgRW[3]{\overline{{I}}^{#1}_{{#2},{#3}}}
\newcommand\Avgwdyp[3]{\overline{I}^{#1}_{#2}{#3}}
\newcommand\Patches[1]{\mathcal{P}^{#1}}
\newcommand\Patch[2]{\mathcal{P}^{#1}_{#2}}

%%% ----- Macro by Olivier Losson (olivier.losson@univ-lille.fr) for simplyfing above notations
\NewDocumentCommand \EstR {o m o s}{ % o1=method (subscript), m=#channel/band 
	%(superscript) (e.g., (B), b), o2=pixel (subscript) s=' (prime) if true (*)
	\StrLeft{#2}{1}[\firstchar]%
	\IfStrEq{\firstchar}{(}{
		\hat{\textbf{R}}
	}{
		\hat{R}
	}
	\IfBooleanT{#4}{
		{'}
	}
	^{#2}
	\IfValueTF{#3}{
		_{
			\IfValueT{#1}{\mathrm{#1},}
			{#3}
		}
	}{
		\IfValueT{#1}{_{\mathrm{#1}}}
	}
}


%%% ----- For Figures
\makeatletter
\newcommand*{\centerfloat}{%
	\parindent \z@
	\leftskip \z@ \@plus 1fil \@minus \textwidth
	\rightskip\leftskip
		\parfillskip \z@skip}
\makeatother
\renewcommand*{\thesubfigure}{(\alph{subfigure})}


%%% ----- Abbreviations/Chapters 
\usepackage{enumitem}
\newlist{abbrv}{itemize}{1}
\setlist[abbrv,1]{label=,labelwidth=1in,align=parleft,itemsep=0.1\baselineskip,leftmargin=!}

%%% ----- For equations
\newenvironment{nospaceflalign*}
{\setlength{\abovedisplayskip}{0pt}\setlength{\belowdisplayskip}{0pt}%
	\csname flalign*\endcsname}
{\csname endflalign*\endcsname\ignorespacesafterend}

%%% ----- Table of contents
\renewcommand{\cftpartfont}{\normalfont\sffamily\bfseries}% \part font in ToC
\renewcommand{\cftchapfont}{\normalfont\Large\bfseries}    % \chapter font in ToC
\renewcommand{\cftsecfont}{\normalfont\large\bfseries}           % \section font in ToC
\renewcommand{\cftsubsecfont}{\normalfont}        % \subsection font in ToC
\renewcommand{\cftsubsubsecfont}{\normalfont}       % \subsubsection font in ToC
\cftpagenumbersoff{part}
%%% ----- header 
\newpagestyle{test}[]{
	\clearscrheadings 
	\clearscrplain 
	\ohead[\headmark]{\headmark}
	\cfoot[\thepage]{\pagemark}}

%%% ----- Chapter style 
\newcommand{\chapnumfont}{
	\fontsize{144}{0}
	\selectfont}
\colorlet{chapnumcol}{black!80}
\titleformat{\chapter}[display]
{\bfseries}
{\begin{tikzpicture}
\node[minimum width=0.98\textwidth, text=newpurple!64, fill=newpurple!64, inner sep=1, outer sep=0, anchor=south] (rectinit) {\huge CHAPTER};
\node[minimum width=0.98\textwidth, text=white, inner sep=1, outer sep=0, anchor=south west, text width=.96\textwidth, align=right] at (rectinit.south west) (chapname) {\huge CHAPTER~~};
\node[minimum width=.2\textwidth, inner sep=0, outer sep=0, anchor=south west, text width=.15\textwidth, align=left] at (chapname.south east) {\chapnumfont\textcolor{chapnumcol}{\thechapter}};
	\end{tikzpicture}}
{0pt}
{\Huge}

%----------------------------------------------------------------------------------------
%	MARGIN SETTINGS
%----------------------------------------------------------------------------------------

\geometry{
	paper=a4paper, % Change to letterpaper for US letter
	inner=3.5cm, % Outer margin
	outer=2.8cm, % Inner margin
	bindingoffset=5mm, % Binding offset
	top=1cm, % Top marginé
	bottom=1.5cm, % Bottom margin
%	marginratio={4:6,5:7},%
%	textwidth=117.3mm,
%	height=179.6mm
%	showframe, % Uncomment to show how the type block is set on the page
}

%----------------------------------------------------------------------------------------
%	THESIS INFORMATION
%----------------------------------------------------------------------------------------

\thesistitle{Texture features extracted from multispectral images acquired under uncontrolled illumination conditions---Application to precision farming.} % Your thesis title, this is used in the title and abstract, print it elsewhere with \ttitle

\examiner{} % Your examiner's name, this is not currently used anywhere in the template, print it elsewhere with \examname
\degree{Doctor of Philosophy} % Your degree name, this is used in the title page and abstract, print it elsewhere with \degreename
\author{Anis \textsc{Amziane}} % Your name, this is used in the title page and abstract, print it elsewhere with \authorname
\addresses{} % Your address, this is not currently used anywhere in the template, print it elsewhere with \addressname

\subject{Multispectral Imaging} % Your subject area, this is not currently used anywhere in the template, print it elsewhere with \subjectname
\keywords{} % Keywords for your thesis, this is not currently used anywhere in the template, print it elsewhere with \keywordnames
\university{\href{https://www.univ-lille.fr/}{Universit\'{e} de Lille}} % Your university's name and URL, this is used in the title page and abstract, print it elsewhere with \univname
\department {\href{https://www.cristal.univ-lille.fr/}{CRIStAL laboratory}} % Your department's name and URL, this is used in the title page and abstract, print it elsewhere with \deptname
\departmentfr{\href{https://www.cristal.univ-lille.fr/}{Laboratoire CRIStAL}} % Your department's name and URL, this is used in the title page and abstract, print it elsewhere with \deptname
\group {\href{https://www.cristal.univ-lille.fr/?rubrique27&eid=35}{Color Image team}} % Your research group's name and URL, this is used in the title page, print it elsewhere with \groupname
\faculty{{Faculty Name}} % Your faculty's name and URL, this is used in the title page and abstract, print it elsewhere with \facname

\AtBeginDocument{
	\hypersetup{
		unicode=false,          % non-Latin characters in Acrobat?s bookmarks
		%    pdftoolbar=true,        % show Acrobat?s toolbar?
		%    pdfmenubar=true,        % show Acrobat?s menu?
		%    pdffitwindow=false,     % window fit to page when opened
		%    pdfstartview={FitH},    % fits the width of the page to the window
		pdftitle=\ttitle,    % title
		pdfauthor=\authorname,     % author
		pdfsubject={Subject},   % subject of the document
		pdfcreator={Creator},   % creator of the document
		pdfproducer={Producer}, % producer of the document
		pdfkeywords=\keywordnames, % list of keywords
		pdfnewwindow=true,      % links in new PDF window
		%    colorlinks=true,       % false: boxed links; true: colored links
		linkcolor=blue,          % color of internal links (change box color with linkbordercolor)
		citecolor= magenta, %red!95!black,        % color of links to bibliography
		filecolor=red,      % color of file links
		urlcolor=newpurple2           % color of external links
	}	
}


%----------------------------------------------------------------------------------------
%	THESIS CHAPTERS
%----------------------------------------------------------------------------------------

\begin{document}
	\frontmatter % Use roman page numbering style (i, ii, iii, iv...) for the pre-content pages
	\pagestyle{plain} % Default to the plain heading style until the thesis style is called for the body content
	\dominitoc
	\adjustmtc
\renewcommand{\chaptermark}[1]{%
	\markboth{#1}{}}	

%%% ----- TITLE PAGE
\include{chapters/final_chapters/first_pages}

\dominitoc
\mainmatter % Begin numeric (1,2,3...) page numbering
\pagestyle{thesisSimple} % Return the page headers back to the "thesis" style
%%% ----- Chapters
\include{chapters/final_chapters/chapter1}
\include{chapters/final_chapters/chapter2}
\include{chapters/final_chapters/chapter3}
\include{chapters/final_chapters/chapter4}
\include{chapters/final_chapters/chapter5}
\include{chapters/final_chapters/chapter6}
\include{chapters/final_chapters/conclusion_perspectives}
%%% ----- Appendix
\include{chapters/final_chapters/appendixA}	
%%% ----- BIBLIOGRAPHY
\bibliographystyle{IEEEtranSN-with-doi} % Modified IEEEtranSN
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}	
\bibliography{Bibliography.bib}	

\end{document}



